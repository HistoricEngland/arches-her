{% extends "views/report-templates/default.htm" %} 
{% load i18n %} 
{% block report %}

{% block body %}
<!-- Geometry/Map -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.coordinates)}, css: {'fa-angle-double-right': visible.coordinates(), 'fa-angle-double-up': !visible.coordinates()}" class="fa toggle"></i> {% trans "Geospatial Coordinates" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.locationGeometry && !coordinateData, click: function(){addNewTile(cards.locationGeometry)}}">
        <i class="fa fa-mail-reply"></i> {% trans "Add Geometry" %}
    </a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.coordinates" class="aher-report-collapsible-container pad-lft">

        <div class="aher-report-subsection">
            <h3><i data-bind="click: function() {toggleVisibility(visible.locality)}, css: {'fa-angle-double-right': visible.locality(), 'fa-angle-double-up': !visible.locality()}" class="fa toggle"></i> {% trans "Geometry " %}  <span data-bind="visible: observableValueSet([geometryShape])">(Shape type: <span data-bind="text: geometryShape"></span>)</span></h3>
            <a class="aher-report-a" data-bind="{if: cards.locationGeometry, click: function(){addNewTile(cards.locationGeometry)}}"><i class="fa fa-mail-reply"></i> {% trans "Edit location" %}</a>
            <div data-bind="visible: visible.locality">
                <div data-bind="component: {
                    name: 'views/components/reports/scenes/map',
                    params: {
                        geojson: coordinateData
                    }}">
                </div>
            </div>
        </div>

        <!-- Geometry Metadata -->
        <div class="aher-report-subsection">
            <h3><i data-bind="click: function() {toggleVisibility(visible.geometryMetadata)}, css: {'fa-angle-double-right': visible.geometryMetadata(), 'fa-angle-double-up': !visible.geometryMetadata()}" class="fa toggle"></i> {% trans "Geometry Metadata" %}</h3>
            
            <!-- Collapsible content -->
            <div data-bind="visible: visible.geometryMetadata" class="aher-report-collapsible-container">
                <div class="aher-report-subsection-container multi-cards no-flex">

                    <!-- Record Authorization/Compilation/Update -->
                    <div class="aher-report-subsection-firstchild">
                        <h5>Record Edit History</h5>
                        
                        <!-- ko ifnot: recordEditExists -->
                        <div class="aher-nodata-note">No authorization record for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: recordEditExists -->   
                        <div class="firstchild-container" data-bind="{with: geometryMetadata}">
                            <div class="aher-report-subsection-item flex">
                                <div class="aher-block-attributes actor-name">
                                    <h6 class="aher-block-key compressed">Authorizer: </h6>
                                    <div data-bind="text: authorizerName" class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes timespan">
                                    <h6 class="aher-block-key compressed">Authorization Date: </h6>
                                    <div data-bind="text: authorizationDate" class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes">
                                    <h6 class="aher-block-key compressed">Type of Authorization: </h6>
                                    <div data-bind="text: typeOfAuthorization" class="aher-block-value"></div>
                                </div>
                            </div>
                            <div class="aher-report-subsection-item flex">
                                <div class="aher-block-attributes actor-name">
                                    <h6 class="aher-block-key compressed">Compiler: </h6>
                                    <div data-bind="text: compilerName" class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes timespan">
                                    <h6 class="aher-block-key compressed">Compile Date: </h6>
                                    <div data-bind="text: compileDate" class="aher-block-value"></div>
                                </div>
                            </div>
                            <div class="aher-report-subsection-item flex">
                                <div class="aher-block-attributes actor-name">
                                    <h6 class="aher-block-key compressed">Updater: </h6>
                                    <div data-bind="text: updateDate"  class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes timespan">
                                    <h6 class="aher-block-key compressed">Update Date: </h6>
                                    <div data-bind="text: updaterName"  class="aher-block-value"></div>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->   
                    </div>

                    <!-- Geometry Sources/Scale -->
                    <div class="aher-report-subsection-firstchild">
                        <h5>Record Sources/Scale</h5>

                        <!-- ko ifnot: geometryScaleExists -->
                        <div class="aher-nodata-note">No record sources/scale for this resource</div>
                        <!-- /ko -->   

                        <!-- ko if: geometryScaleExists -->
                        <div class="firstchild-container">
                            <div class="aher-report-subsection-item flex column-order pad-btm" data-bind="{with: geometryScale}">
                                <div class="aher-block-attributes">
                                    <h6 class="aher-block-key compressed">Coordinate System: </h6>
                                    <div data-bind="text: coordinateSystem" class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes">
                                    <h6 class="aher-block-key compressed">Basemap: </h6>
                                    <div data-bind="text: basemap" class="aher-block-value"></div>
                                </div>
                                <div class="aher-block-attributes">
                                    <h6 class="aher-block-key compressed">Capture Scale: </h6>
                                    <div data-bind="text: captureScale" class="aher-block-value">--</div>
                                </div>
                                <div class="aher-block-attributes">
                                    <h6 class="aher-block-key compressed">Accuracy: </h6>
                                    <div data-bind="text: accuracy" class="aher-block-value"></div>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->   
                    </div>

                    <!-- Record Description -->
                    <div class="aher-report-subsection-firstchild">
                        <h5>Description</h5>
                        <a class="aher-report-a"><i class="fa fa-mail-reply"></i> {% trans "Description" %}</a>
                        
                        <!-- ko if: !observableValueSet([geometryNotes]) || geometryNotes() == "" -->
                        <div class="aher-nodata-note">No description record for this resource</div>
                        <!-- /ko -->   

                        <!-- ko if: observableValueSet([geometryNotes]) -->
                        <div class="firstchild-container pad-btm">
                            <div class="aher-report-subsection-item">
                                <div class="aher-block-attributes" style="margin-top: 5px;">
                                    <h6 class="aher-block-key compressed">Metadata Description: </h6>
                                    <div data-bind="text: geometryNotes" class="aher-block-value"></div>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->   
                    </div>
                </div>  
            </div>
        </div>
    </div>
</div>

<!-- Addresses -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.addresses)}, css: {'fa-angle-double-right': visible.addresses(), 'fa-angle-double-up': !visible.addresses()}" class="fa toggle"></i> {% trans "Addresses" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.addresses, click: function(){addNewTile(cards.addresses)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Address" %}</a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.addresses" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: addresses().length -->
        <div class="aher-nodata-note">No addresses for this resource</div>
        <!-- /ko -->

        <!-- ko if: addresses().length -->
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Address Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "Street Number" %}</th>
                                <th>{% trans "Street" %}</th>
                                <th>{% trans "Locality" %}</th>
                                <th>{% trans "Town/City" %}</th>
                                <th>{% trans "Postcode" %}</th>
                                <th>{% trans "Status" %}</th>
                                <th class="none">{% trans "Building Name" %}</th>
                                <th class="none">{% trans "Building Number" %}</th>
                                <th class="none">{% trans "Build No. Sub-street" %}</th>
                                <th class="none">{% trans "Sub-street" %}</th>
                                <th class="none">{% trans "County" %}</th>
                                <th class="none">{% trans "Full Address" %}</th>
                                <th class="none">{% trans "Currency" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach: {data: addresses, dataTableOptions: addressTableConfig}">
                            <tr>
                                <td data-bind="text: buildingNumber"></td>
                                <td data-bind="text: street"></td>
                                <td data-bind="text: locality"></td>
                                <td data-bind="text: town"></td>
                                <td data-bind="text: postcode"></td>
                                <td data-bind="text: status"></td>
                                <td data-bind="text: buildingName"></td>
                                <td data-bind="text: buildingNumber"></td>
                                <td data-bind="text: buildingNumberSubStreet"></td>
                                <td data-bind="text: subStreet"></td>
                                <td data-bind="text: county"></td>
                                <td data-bind="text: fullAddress"></td>
                                <td data-bind="text: currency"></td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.addresses">
                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.addresses)}">
                                            <i class="fa fa-mail-reply"></i>
                                        </a>
                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.addresses)}">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<!-- Location Description -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.descriptions)}, css: {'fa-angle-double-right': visible.descriptions(), 'fa-angle-double-up': !visible.descriptions()}" class="fa toggle"></i> {% trans "Location Descriptions" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.locationDescriptions, click: function(){addNewTile(cards.locationDescriptions)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Description" %}</a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.descriptions" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: descriptions().length -->
        <div class="aher-nodata-note">No location description for this resource</div>
        <!-- /ko -->

        <!-- ko if: descriptions().length -->
        
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Statements Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "Type" %}</th>
                                <th>{% trans "Description" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach: {data: descriptions, dataTableOptions: locDescriptionsTableConfig }">
                            <tr>
                                <td data-bind="text: type"></td>
                                <td data-bind="text: description" class="line-clamp-1" style="vertical-align: unset; padding-top: 7px;">Take a right at the light. Then go straight until night.  Look for the big red barn, then turn left. Go another few miles and you're almost there.</td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.locationDescriptions">
                                    <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.locationDescriptions)}">
                                        <i class="fa fa-mail-reply"></i>
                                    </a>
                                    <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cardslocationDescriptions)}">
                                        <i class="fa fa-trash"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<!-- Admin Areas -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.administrativeAreas)}, css: {'fa-angle-double-right': visible.administrativeAreas(), 'fa-angle-double-up': !visible.administrativeAreas()}" class="fa toggle"></i> {% trans "Administrative Areas" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.administrativeAreas, click: function(){addNewTile(cards.administrativeAreas)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Area" %}</a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.administrativeAreas" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: administrativeAreas().length -->
        <div class="aher-nodata-note">No administrative areas for this resource</div>
        <!-- /ko -->

        <!-- ko if: administrativeAreas().length -->
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Statements Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "Name" %}</th>
                                <th>{% trans "Type" %}</th>
                                <th>{% trans "Currency" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach: {data: administrativeAreas, dataTableOptions: adminAreasTableConfig }">
                            <tr>
                                <td data-bind="text: name"></td>
                                <td data-bind="text: type"></td>
                                <td data-bind="text: currency"></td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.administrativeAreas">
                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.administrativeAreas)}">
                                            <i class="fa fa-mail-reply"></i>
                                        </a>
                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.administrativeAreas)}">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<!-- National Grid References -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.nationalGrid)}, css: {'fa-angle-double-right': visible.nationalGrid(), 'fa-angle-double-up': !visible.nationalGrid()}" class="fa toggle"></i> {% trans "National Grid References" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.nationalGridReferences, click: function(){addNewTile(cards.nationalGridReferences)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Grid Reference" %}</a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.nationalGrid" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: nationalGridReferences().length -->
        <div class="aher-nodata-note">No grid references for this resource</div>
        <!-- /ko -->

        <!-- ko if: nationalGridReferences().length -->
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Statements Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "National Grid Reference" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach: {data: nationalGridReferences, dataTableOptions: gridReferencesTableConfig}">
                            <tr>
                                <td data-bind="text: reference"></td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.nationalGridReferences">
                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.nationalGridReferences)}">
                                            <i class="fa fa-mail-reply"></i>
                                        </a>
                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.nationalGridReferences)}">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<!-- Area Assignments -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.areaAssignment)}, css: {'fa-angle-double-right': visible.areaAssignment(), 'fa-angle-double-up': !visible.areaAssignment()}" class="fa toggle"></i> {% trans "Area Assignment" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.areaAssignment, click: function(){addNewTile(cards.areaAssignment)}}"><i class="fa fa-mail-reply"></i> <span data-bind="if: areaAssignment().length">{% trans "Edit Area Assignment" %}</span><span data-bind="ifnot: areaAssignment().length">{% trans "Add Area Assignment" %}</span></a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.areaAssignment" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: areaAssignment().length -->
        <div class="aher-nodata-note">No area assignments for this resource</div>
        <!-- /ko -->

        <!-- ko if: areaAssignment().length -->
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Area Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "Status" %}</th>
                                <th>{% trans "Ownership" %}</th>
                                <th>{% trans "Start Date" %}</th>
                                <th>{% trans "End Date" %}</th>
                                <th>{% trans "SHINE Form" %}</th>
                                <th class="none">{% trans "SHINE Significance" %}</th>
                                <th class="none">{% trans "Reference" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach:{ data: areaAssignment, dataTableOptions: areaAssignmentsTableConfig}" >
                            <tr>
                                <td data-bind="text: status"></td>
                                <td data-bind="text: ownership"></td>
                                <td data-bind="text: startDate"></td>
                                <td data-bind="text: endDate"></td>
                                <td data-bind="text: shineForm"></td>
                                <td data-bind="text: shineSignificance"></td>
                                <td data-bind="text: reference"></td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.areaAssignment">
                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.areaAssignment)}">
                                            <i class="fa fa-mail-reply"></i>
                                        </a>
                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.areaAssignment)}">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<!-- Land Use Classification -->
<div class="aher-report-section">
    <h2 class="aher-report-section-title"><i data-bind="click: function() {toggleVisibility(visible.landUse)}, css: {'fa-angle-double-right': visible.landUse(), 'fa-angle-double-up': !visible.landUse()}" class="fa toggle"></i> {% trans "Land Use Classification" %}</h2>
    <a class="aher-report-a" data-bind="{if: cards.landUse, event:{ mousedown:function(d, e){addNewTile(cards.landUse, e)}}}"><i class="fa fa-mail-reply"></i> <span data-bind="if: landUseClassification().length">{% trans "Edit Classification" %}</span><span data-bind="ifnot: landUseClassification().length">{% trans "Add Classification" %}</span></a>

    <!-- Collapsible content -->
    <div data-bind="visible: visible.landUse" class="aher-report-collapsible-container pad-lft">

        <!-- ko ifnot: landUseClassification().length -->
        <div class="aher-nodata-note">No land use classes for this resource</div>
        <!-- /ko -->

        <!-- ko if: landUseClassification().length -->
        <div class="aher-report-subsection">
            
            <div class="firstchild-container">
                <!-- Land Use Table -->
                <div class="aher-table pad-btm">
                    <table class="table table-striped" cellspacing="0" width="100%">
                        <thead>
                            <tr class="aher-table-header">
                                <th>{% trans "Land Use" %}</th>
                                <th>{% trans "Start Date" %}</th>
                                <th>{% trans "End Date" %}</th>
                                <th>{% trans "Geology" %}</th>
                                <th class="none">{% trans "Sub-soil" %}</th>
                                <th class="none">{% trans "Reference" %}</th>
                                <th class="aher-table-control all"></th>
                            </tr>
                        </thead>
                        <tbody data-bind="dataTablesForEach: {data: landUseClassification, dataTableOptions: landUseTableConfig}">
                            <tr>
                                <td data-bind="text: classification"></td>
                                <td data-bind="text: startDate"></td>
                                <td data-bind="text: endDate"></td>
                                <td data-bind="text: geology"></td>
                                <td data-bind="text: subSoil"></td>
                                <td data-bind="text: reference"></td>
                                <td class="aher-table-control">
                                    <div data-bind="if: $parent.cards.landUse">
                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.landUse)}">
                                            <i class="fa fa-mail-reply"></i>
                                        </a>
                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.landUse)}">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>
{% endblock body %}
{% endblock report %}
{% block summary %}

<div class="model-summary-report">
Do not use - yet.
</div>

{% endblock summary %}